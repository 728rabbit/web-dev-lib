class iwebApp{constructor(){this.current_language="en",this.language={en:{btn_confirm:"OK",btn_yes:"Yes",btn_no:"No",please_select:"Please Select",type_error:"File type is not allowed.",max_error:"Maximum allowed file size {num}M.",required_error:"This field is required.",password_error:"Password must contain at least 6 characters, including upper/lowercase and numbers (e.g. Abc123).",email_error:"Invalid email address format.",number_error:"Invalid number format.",date_error:"Invalid date format."},zh_hant:{btn_confirm:"確定",btn_yes:"是",btn_no:"否",please_select:"請選擇",type_error:"不允許的檔案類型。",max_error:"檔案大小不能超過{num}M。",required_error:"此項目必須填寫。",password_error:"密碼必須至少包含6個字符，包括大寫/小寫和數字(例如Abc123)。",email_error:"無效的郵件地址格式。",number_error:"無效的數字格式。",date_error:"無效的日期格式。"},zh_hans:{btn_confirm:"确定",btn_yes:"是",btn_no:"否",please_select:"请选择",type_error:"不允许的档案类型。",max_error:"档案大小不能超过{num}M。",required_error:"此项目必须填写。",password_error:"密码必须至少包含6个字符，包括大写/小写和数字(例如Abc123)。",email_error:"无效的邮件地址格式。",number_error:"无效的数字格式。",date_error:"无效的日期格式。"}},this.imd5=new iMD5,this.csrf_token="",this.is_busy=!1,this.idatepicker,this.uploader_options={},this.uploader_files={},this.uploader_files_skip={},this.win_width=0}init(){const i=this,a=(e,t)=>{"function"==typeof window[e]&&window[e](t)};document.addEventListener("DOMContentLoaded",function(){var e,t=document.documentElement.lang?.toLowerCase().replace("-","_"),t=(i.isValue(t)&&i.isValue(i.language[t])&&(i.current_language=t),document.querySelector('meta[name="csrf-token"]')?.content);i.isValue(t)&&(e=location.hostname||"/",i.csrf_token=i.imd5.hash(i.imd5.hash("iweb@"+e)+"@"+t)),i.initBody(),i.initComponent(),i.initForm(),i.win_width=parseInt(document.querySelector("div.iweb-viewer").offsetWidth),i.responsive(),a("iweb_common_layout",i.win_width),a("iweb_layout",i.win_width),a("iweb_extra_layout",i.win_width),a("iweb_common_func"),a("iweb_func"),a("iweb_extra_func")}),window.onload=function(){a("iweb_common_layout_done",i.win_width),a("iweb_layout_done",i.win_width),a("iweb_extra_layout_done",i.win_width),a("iweb_common_func_done"),a("iweb_func_done"),a("iweb_extra_func_done")},window.addEventListener("resize",function(){i.win_width!==parseInt(document.querySelector("div.iweb-viewer").offsetWidth)&&(i.win_width=parseInt(document.querySelector("div.iweb-viewer").offsetWidth),i.responsive(),a("iweb_common_layout",i.win_width),a("iweb_layout",i.win_width),a("iweb_extra_layout",i.win_width))}),window.addEventListener("scroll",function(){a("iweb_common_scroll",window.scrollY),a("iweb_scroll",window.scrollY),a("iweb_extra_scroll",window.scrollY)})}initBody(){const a=this;document.body.classList.add("iweb"),a.detectDevice()&&document.body.classList.add("iweb-mobile");var e=Array.from(document.body.children).filter(function(e){return!["SCRIPT","NOSCRIPT","STYLE"].includes(e.tagName.toUpperCase())});if(0<e.length){const n=document.createElement("div");n.classList.add("iweb-viewer"),e.forEach(function(e){n.appendChild(e)}),document.body.prepend(n)}document.body.addEventListener("click",a.deBounce(function(e){var t,i=e.target;"a"===i.tagName.toLowerCase()&&(t=i.getAttribute("href"),a.isValue(t)&&!a.isMatch(t,"#")||(e.preventDefault(),i.closest("div.iweb-tips-message")&&(i.closest("div.iweb-tips-message").innerHTML="",i.closest("div.iweb-tips-message").classList.remove("error"),i.closest("div.iweb-tips-message").classList.remove("success")))),i.closest("div.iweb-input-autocomplete")||document.querySelectorAll("div.iweb-input-autocomplete ul.fill-options").forEach(function(e){e.remove()}),i.closest("div.iweb-select")||document.querySelectorAll("div.iweb-select").forEach(function(e){e.classList.remove("show")})},100,!1));const i=["small-font","middle-font","large-font"],t=a.getCookie("iweb_font_size"),s=document.querySelectorAll("a.font-switch");a.isValue(t)&&(document.documentElement.classList.remove(...i),document.documentElement.classList.add(t+"-font"),s.forEach(function(e){e.classList.toggle("current",a.isMatch(e.getAttribute("data-size"),t))})),s.forEach(function(e){e.addEventListener("click",a.deBounce(function(e){const t=e.target.getAttribute("data-size");a.isValue(t)&&(a.setCookie("iweb_font_size",t),document.documentElement.classList.remove(...i),document.documentElement.classList.add(t+"-font"),s.forEach(function(e){e.classList.toggle("current",a.isMatch(e.getAttribute("data-size"),t))}))}))})}initComponent(){var e=this;e.inputBox(),e.selectBox(),e.checkBox(),e.radioBox(),e.iframe()}inputBox(e,t){const r=this;0<(e=r.isValue(e)?e:document.querySelectorAll(['input[type="text"]','input[type="password"]','input[type="date"]','input[type="color"]','input[type="tel"]','input[type="email"]','input[type="number"]','input[type="file"]',"textarea"].join(", "))).length&&e.forEach(function(a){if(!a.closest("div.iweb-input")){var e,t,i=a.type,s=r.isMatch(a.getAttribute("data-autocomplete"),1)||r.isMatch(a.getAttribute("data-autocomplete"),!0);const l=document.createElement("div");l.classList.add("iweb-input"),l.classList.add(s?"iweb-input-autocomplete":"iweb-input-"+(r.isValue(a.type)?a.type:"text")),a.parentNode.insertBefore(l,a),l.appendChild(a),s?(a.type="hidden",a.classList.add("fill-id"),a.removeAttribute("data-autocomplete"),(s=document.createElement("input")).type="text",s.classList.add("fill-text"),s.style.display="block",s.style.width="100%",s.autocomplete="off",s.addEventListener("input",r.deBounce(function(e){var t=e.target,i=(t.closest("div.iweb-input-autocomplete").classList.remove("error"),t.closest("div.iweb-input-autocomplete").querySelector("small.tips")?.remove(),t.closest("div.iweb-input-autocomplete").querySelector("ul.fill-options")?.remove(),{});for(let e=1;e<=5;e++){var a,s=t.closest("div.iweb-input-autocomplete").querySelector("input.fill-id").getAttribute("data-param"+e);r.isValue(s)&&([s,a]=s.split(":"),i[s]=a)}var e=t.value,n={dataType:"json",showBusy:!1,url:t.closest("div.iweb-input-autocomplete").querySelector("input.fill-id").getAttribute("data-url"),values:Object.assign({keywords:e},i)};r.isValue(e)&&r.ajaxPost(n,function(e){if(r.isValue(e)){e=Object.values(e);const a=document.createElement("ul");a.classList.add("fill-options"),e.forEach(function(e){var t=document.createElement("li"),i=document.createElement("a");i.setAttribute("data-id",e.id),i.textContent=e.name,i.addEventListener("click",r.deBounce(function(e){var e=e.target,t=(e.closest("div.iweb-input-autocomplete").querySelector("a.fill-reset")?.remove(),e.closest("div.iweb-input-autocomplete").querySelector("input.fill-id")),i=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-text"),e=(t.value=e.getAttribute("data-id"),i.value=e.textContent,i.readOnly=!0,document.createElement("a")),i=(e.classList.add("fill-reset"),e.addEventListener("click",r.deBounce(function(e){var e=e.target,t=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-id"),i=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-text"),e=e.closest("div.iweb-input-autocomplete").querySelector("a.fill-reset"),i=(t.value="",i.value="",i.readOnly=!1,e.remove(),t.getAttribute("data-rfunc"));"function"==typeof window[i]&&window[i]()})),document.createElement("i")),i=(i.classList.add("fa","fa-times"),i.style.color="#d73d32",e.appendChild(i),t.closest("div.iweb-input-autocomplete").appendChild(e),t.closest("div.iweb-input-autocomplete").classList.remove("error"),t.closest("div.iweb-input-autocomplete").querySelector("small.tips")?.remove(),t.closest("div.iweb-input-autocomplete").querySelector("ul.fill-options")?.remove(),t.getAttribute("data-sfunc"));"function"==typeof window[i]&&window[i](t.value)})),t.appendChild(i),a.appendChild(t)}),l.appendChild(a)}})},1e3)),l.appendChild(s),t=a.getAttribute("data-default"),a.removeAttribute("data-default"),r.isValue(t)&&(s.setAttribute("data-value",a.value),s.setAttribute("data-default",t),s.value=t,s.readOnly=!0,(t=document.createElement("a")).classList.add("fill-reset"),t.addEventListener("click",r.deBounce(function(e){var e=e.target,t=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-id"),i=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-text"),e=e.closest("div.iweb-input-autocomplete").querySelector("a.fill-reset"),i=(t.value="",i.value="",i.readOnly=!1,e.remove(),t.getAttribute("data-rfunc"));"function"==typeof window[i]&&window[i]()})),(s=document.createElement("i")).classList.add("fa","fa-times"),s.style.color="#d73d32",t.appendChild(s),l.appendChild(t))):r.isMatch(i,"password")?((s=document.createElement("button")).type="button",s.classList.add("switch-pwd-type"),s.addEventListener("click",r.deBounce(function(e){var e=e.target,t=e.closest("div.iweb-input").querySelector("input"),i=e.closest("div.iweb-input").querySelector("i.show"),e=e.closest("div.iweb-input").querySelector("i.hide");r.isMatch(a.type,"password")?(t.type="text",i.style.display="block",e.style.display="none"):(t.type="password",i.style.display="none",e.style.display="block")})),(t=document.createElement("i")).classList.add("fa","fa-eye-slash","hide"),t.style.display="block",(e=document.createElement("i")).classList.add("fa","fa-eye","show"),e.style.display="none",s.appendChild(t),s.appendChild(e),l.appendChild(s)):r.isMatch(i,"color")&&(a.style.position="relative",a.style.zIndex=1,a.addEventListener("input",r.deBounce(function(e){var e=e.target,t=e.closest("div.iweb-input-color").querySelector('input[type="text"]');/^#[0-9A-F]{6}$/i.test(e.value)&&(t.value=e.value)})),(t=document.createElement("input")).type="text",t.maxLength=7,t.value=a.value,t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.right="0px",t.style.bottom="0px",t.style.paddingLeft="42px",t.addEventListener("input",r.deBounce(function(e){var e=e.target,t=e.closest("div.iweb-input-color").querySelector('input[type="color"]');e.value.startsWith("#")||(e.value="#"+e.value),/^#[0-9A-F]{6}$/i.test(e.value)&&(t.value=e.value)})),l.appendChild(t)),a.style.display=r.isMatch(i,"color")?"inline-block":"block",a.style.width=r.isMatch(i,"color")?"36px":"100%",a.autocomplete="off",r.isMatch(i,"color")||a.addEventListener("input",r.deBounce(function(e){e=e.target;e.closest("div.iweb-input").classList.remove("error"),e.closest("div.iweb-input").querySelector("small.tips")?.remove()}))}}),r.isValue(r.idatepicker)||(r.idatepicker=new iDatePicker(r.current_language)),r.idatepicker.render('input[type="date"]'),"function"==typeof t&&t()}selectBox(e,t){const u=this;0<(e=u.isValue(e)?e:document.querySelectorAll("select")).length&&e.forEach(function(e,t){if(!e.closest("div.iweb-select")){var i=!(!u.isMatch(e.multiple,1)&&!u.isMatch(e.multiple,!0)),a=!(!u.isMatch(e.getAttribute("data-virtual"),1)&&!u.isMatch(e.getAttribute("data-virtual"),!0)),n=!(!u.isMatch(e.getAttribute("data-filter"),1)&&!u.isMatch(e.getAttribute("data-filter"),!0)),l=!(!u.isMatch(e.getAttribute("data-top"),1)&&!u.isMatch(e.getAttribute("data-top"),!0));if(a){a=document.createElement("div"),i=(a.classList.add("iweb-select"),i&&a.classList.add("iweb-select-multiple"),document.createElement("div"));i.classList.add("real","hidden"),e.parentNode.insertBefore(i,e),i.appendChild(e),i.parentNode.insertBefore(a,i),a.appendChild(i);let s="";var r,i=document.createElement("div"),o=(i.classList.add("virtual"),document.createElement("a")),d=(o.classList.add("result"),o.textContent=s,o.addEventListener("click",u.deBounce(function(e){e=e.target;const i=e.closest("div.iweb-select").querySelector("div.virtual > div.options > ul");0<i.offsetWidth||0<i.offsetHeight?e.closest("div.iweb-select").classList.remove("show"):e.closest("div.iweb-select").classList.add("show"),document.querySelectorAll("div.iweb-select").forEach(function(e){var t=e.querySelector("div.virtual > div.options > ul");t&&!u.isMatch(t.getAttribute("data-index"),i.getAttribute("data-index"))&&e.classList.remove("show")})})),i.appendChild(o),document.createElement("div"));d.classList.add("options"),l&&d.classList.add("top");const c=document.createElement("ul");c.setAttribute("data-index","iss"+t),n&&((l=document.createElement("li")).classList.add("filter"),n=e.getAttribute("data-placeholder")||"",(r=document.createElement("input")).id="fkw_"+t,r.type="text",r.placeholder=n.trim(),r.addEventListener("input",u.deBounce(function(e){e=e.target;const i=e.value;u.isValue(i)?e.closest("div.iweb-select").querySelectorAll("div.virtual > div.options ul > li.node > a").forEach(function(e){var t;-1<(e.textContent||e.innerText).toLowerCase().indexOf(i.toLowerCase())?(e.parentElement.classList.remove("hide"),(t=e.closest("li.node-parent"))&&t.classList.remove("hide")):e.parentElement.classList.add("hide")}):e.closest("div.iweb-select").querySelectorAll("div.virtual > div.options ul > li.node").forEach(function(e){e.classList.remove("hide")})})),l.appendChild(r),c.appendChild(l)),0<e.children.length&&Array.from(e.children).forEach(function(e){if(0<e.children.length){var t=document.createElement("li"),i=(t.classList.add("node","node-parent"),document.createElement("a"));i.textContent=e.getAttribute("label"),t.appendChild(i);const a=document.createElement("ul");Array.from(e.children).forEach(function(e){var t,i;u.isValue(e.value)&&((t=document.createElement("li")).classList.add("node"),e.selected&&(t.classList.add("node-selected"),t.setAttribute("data-ori","selected"),s=(s+=s?", ":"")+e.textContent),(i=document.createElement("a")).setAttribute("data-value",e.value),i.textContent=e.textContent,i.addEventListener("click",u.deBounce(function(e){var e=e.target,t=e.closest("div.iweb-select").classList.contains("iweb-select-multiple"),i=e.closest("div.iweb-select").querySelector("div.real > select");let a=[];if(t){i.querySelectorAll("option").forEach(function(e){0<e.children.length?Array.from(e.children).forEach(function(e){e.selected&&a.push(e.value.toString())}):e.selected&&a.push(e.value.toString())});const s=e.getAttribute("data-value").toString();a.includes(s)?a=a.filter(function(e){return e!==s}):a.push(s),i.querySelectorAll("option").forEach(function(e){a.includes(e.value.toString())?e.selected=!0:e.selected=!1})}else e.closest("div.iweb-select").classList.remove("show"),i.value=e.getAttribute("data-value");i.dispatchEvent(new Event("change"))})),t.appendChild(i),a.appendChild(t))}),t.appendChild(a),c.appendChild(t)}else{i=document.createElement("li"),t=(i.classList.add("node"),document.createElement("a"));t.setAttribute("data-value",e.value),t.textContent=e.textContent,e.selected&&(i.classList.add("node-selected"),i.setAttribute("data-ori","selected"),s=(s+=s?", ":"")+e.textContent),t.addEventListener("click",u.deBounce(function(e){var e=e.target,t=e.closest("div.iweb-select").classList.contains("iweb-select-multiple"),i=e.closest("div.iweb-select").querySelector("div.real > select");let a=[];if(t){i.querySelectorAll("option").forEach(function(e){0<e.children.length?Array.from(e.children).forEach(function(e){e.selected&&a.push(e.value.toString())}):e.selected&&a.push(e.value.toString())});const s=e.getAttribute("data-value").toString();a.includes(s)?a=a.filter(function(e){return e!==s}):a.push(s),i.querySelectorAll("option").forEach(function(e){a.includes(e.value.toString())?e.selected=!0:e.selected=!1})}else e.closest("div.iweb-select").classList.remove("show"),i.value=e.getAttribute("data-value");i.dispatchEvent(new Event("change"))})),i.appendChild(t),c.appendChild(i)}}),u.isValue(s)||(s=u.isValue(e.getAttribute("data-default"))?e.getAttribute("data-default"):u.language[u.current_language].please_select),o.textContent=s,d.appendChild(c),i.appendChild(d),a.appendChild(i)}else{t=document.createElement("div"),n=(t.classList.add("iweb-select"),document.createElement("div"));n.classList.add("real"),e.parentNode.insertBefore(n,e),n.appendChild(e),n.parentNode.insertBefore(t,n),t.appendChild(n)}e.removeAttribute("data-virtual"),e.removeAttribute("data-filter"),e.addEventListener("focus",u.deBounce(function(){document.querySelectorAll("div.iweb-select").forEach(function(e){e.classList.remove("show")})})),e.addEventListener("change",u.deBounce(function(e){let i=[],a="";e=e.target;e.closest("div.iweb-select").classList.remove("error"),e.closest("div.iweb-select").querySelector("small.tips")?.remove(),Array.from(e.querySelectorAll("option")).forEach(function(e){0<e.children.length?Array.from(e.children).forEach(function(e){e.selected&&i.push(e.value.toString())}):e.selected&&i.push(e.value.toString())}),0<e.closest("div.iweb-select").querySelectorAll("div.virtual > div.options ul > li > a").length&&(e.closest("div.iweb-select").querySelectorAll("div.virtual > div.options ul > li > a").forEach(function(e){var t=e.getAttribute("data-value");u.isValue(t)&&(u.isMatch(i.indexOf(t),-1)?e.parentElement.classList.remove("node-selected"):(e.parentElement.classList.add("node-selected"),u.isValue(a)&&(a+=", "),a+=e.textContent))}),u.isValue(a)||(a=u.isValue(e.getAttribute("data-default"))?e.getAttribute("data-default"):u.language[u.current_language].please_select),e.closest("div.iweb-select").querySelector("div.virtual > a.result").innerHTML=a)}))}}),"function"==typeof t&&t()}checkBox(e,t){const a=this;0<(e=a.isValue(e)?e:document.querySelectorAll('input[type="checkbox"]')).length&&e.forEach(function(e){var t,i;e.closest("div.iweb-checkbox")||(t=e.nextElementSibling,(i=document.createElement("div")).classList.add("iweb-checkbox"),e.checked&&i.classList.add("checked"),e.parentNode.insertBefore(i,e),i.appendChild(e),t&&(t.parentNode.insertBefore(i,t),i.appendChild(t)),e.addEventListener("change",a.deBounce(function(e){e=e.target;document.querySelectorAll('input[type="checkbox"][name="'+e.name+'"]').forEach(function(e){e.closest("div.iweb-checkbox").classList.remove("checked"),e.checked&&e.closest("div.iweb-checkbox").classList.add("checked"),e.closest("div.iweb-checkbox").classList.remove("error")}),e.closest("div.iweb-checkbox-set")&&e.closest("div.iweb-checkbox-set").querySelector("small.tips")?.remove()})))}),"function"==typeof t&&t()}radioBox(e,t){var a=this;0<(e=a.isValue(e)?e:document.querySelectorAll('input[type="radio"]')).length&&e.forEach(function(e){var t,i;e.closest("div.iweb-raido")||(t=e.nextElementSibling,(i=document.createElement("div")).classList.add("iweb-radio"),e.checked&&i.classList.add("checked"),e.parentNode.insertBefore(i,e),i.appendChild(e),t&&(t.parentNode.insertBefore(i,t),i.appendChild(t)),e.addEventListener("change",a.deBounce(function(e){e=e.target;const t=e.value;document.querySelectorAll('input[type="radio"][name="'+e.name+'"]').forEach(function(e){a.isMatch(e.value,t)?(e.checked=!0,e.closest("div.iweb-radio").classList.add("checked")):(e.checked=!1,e.closest("div.iweb-radio").classList.remove("checked")),e.closest("div.iweb-radio").classList.remove("error")}),e.closest("div.iweb-radio-set")&&e.closest("div.iweb-radio-set").querySelector("small.tips")?.remove()})))}),"function"==typeof t&&t()}iframe(t="div.iweb-editor",e){this.isValue(t)&&(["iframe","video","object","embed"].forEach(function(e){document.querySelectorAll(t+" "+e).forEach(function(e){var t;e.closest("div.iweb-responsive")||((t=document.createElement("div")).className="iweb-responsive",t.setAttribute("data-width",e.offsetWidth),t.setAttribute("data-height",e.offsetHeight),e.classList.add("vframe"),e.parentNode.insertBefore(t,e),t.appendChild(e))})}),"function"==typeof e)&&e()}responsive(){const n=this;var e=document.querySelectorAll("div.iweb-responsive");0<e.length&&e.forEach(function(e){var t=e.clientWidth;let i=0;var a=e.getAttribute("data-width"),s=e.getAttribute("data-height");0<(i=n.isValue(a)&&n.isValue(s)&&0<s&&0<a?parseInt(t*s/a):i)?e.style.height=i+"px":e.style.height="auto"})}pagination(e){document.querySelectorAll(e).forEach(function(e){new iPagination(e,{mode:e.getAttribute("data-mode")||1,size:e.getAttribute("data-size")||5,total:e.getAttribute("data-totalpage")||1,placeholder:e.getAttribute("data-placeholder")||""})})}ajaxPost(t,i,e,a){const s=this;if((t=Object.assign({dataType:"json",showBusy:!0,url:"",values:{}},t)).showBusy||(s.is_busy=!1),!s.is_busy&&s.isValue(t.url)){var n=s.toDateTime(),l=new FormData;if(l.append("itoken",window.btoa(s.imd5.hash(s.csrf_token+"#dt"+n)+"%"+n)),t.values)for(var r in t.values)if(t.values.hasOwnProperty(r)){var o=t.values[r];if("object"!=typeof o||(o instanceof File||o instanceof FileList))l.append(r,o);else for(var d in o)l.append(r+"["+d+"]",o[d])}const c=()=>{s.is_busy=!1,(s.isMatch(t.showBusy,!0)||s.isMatch(t.showBusy,1)||s.isMatch(t.showBusy,2))&&!s.isMatch(t.showBusy,2)&&s.showBusy(!1),"function"==typeof e&&e()};try{(s.isMatch(t.showBusy,!0)||s.isMatch(t.showBusy,1)||s.isMatch(t.showBusy,2))&&s.showBusy(!0,70),s.is_busy=!0;const u=new XMLHttpRequest;u.open("POST",t.url,!0),u.upload.onprogress=function(e){e.lengthComputable&&(e=Math.ceil(e.loaded/e.total*100),"function"==typeof a)&&a(e)},u.onload=function(){if(c(),!(200<=u.status&&u.status<300))throw new Error(u.statusText);{let e;switch(t.dataType.toLowerCase()){case"json":e=JSON.parse(u.responseText);break;case"blob":e=u.response;break;default:e=u.responseText}"function"==typeof i&&i(e)}},u.onerror=function(){c(),alert("Unstable network, please check your network connection.")},u.onabort=function(){c(),alert("Request aborted.")},u.ontimeout=function(){c(),alert("Request timed out.")},u.send(l)}catch(e){c();let t=e.message;return e.message.includes("NetworkError")?t="Unstable network, please check your network connection.":e.message.includes("404")?t="The requested page not found.":e.message.includes("500")&&(t="Internal Server Error."),alert(t),!1}}}initForm(e){const r=this;0<(e=r.isValue(e)?e:document.querySelectorAll('form[data-ajax="1"]')).length&&e.forEach(function(l){const s=!r.isMatch(l.getAttribute("data-showtips"),!1)&&!r.isMatch(l.getAttribute("data-showtips"),0);l.removeAttribute("data-ajax"),l.removeAttribute("data-showtips"),l.method="post",l.autocomplete="off",l.addEventListener("submit",r.deBounce(function(){l.querySelectorAll(".error").forEach(function(e){e.closest("div.iweb-tips-message")||e.classList.remove("error")}),l.querySelectorAll("small.tips").forEach(function(e){e.remove()});let a=!0;var e,t=l.querySelectorAll("input[data-validation]:not(:disabled), select[data-validation]:not(:disabled), textarea[data-validation]:not(:disabled)"),t=(0<t.length&&t.forEach(function(e){var t,i=e.getAttribute("data-validation").toString().split("|");r.isMatch(e.type,"checkbox")?i.includes("required")&&e.closest("div.iweb-checkbox-set")&&!e.closest("div.iweb-checkbox-set").querySelector('input[type="checkbox"]:checked')&&(s&&!e.closest("div.iweb-checkbox-set").querySelector("small.tips")&&((t=document.createElement("small")).classList.add("tips"),t.textContent=r.language[r.current_language].required_error,e.closest("div.iweb-checkbox-set").appendChild(t)),e.closest("div.iweb-checkbox").classList.add("error"),a=!1):r.isMatch(e.type,"radio")?i.includes("required")&&e.closest("div.iweb-radio-set")&&!e.closest("div.iweb-radio-set").querySelector('input[type="radio"]:checked')&&(s&&!e.closest("div.iweb-radio-set").querySelector("small.tips")&&((t=document.createElement("small")).classList.add("tips"),t.textContent=r.language[r.current_language].required_error,e.closest("div.iweb-radio-set").appendChild(t)),e.closest("div.iweb-radio").classList.add("error"),a=!1):r.isMatch(e.type,"select-one")||r.isMatch(e.type,"select-multiple")?i.includes("required")&&!r.isValue(e.value)&&(s&&!e.closest("div.iweb-select").querySelector("small.tips")&&((t=document.createElement("small")).classList.add("tips"),t.textContent=r.language[r.current_language].required_error,e.closest("div.iweb-select").appendChild(t)),e.closest("div.iweb-select").classList.add("error"),a=!1):i.includes("required")&&!r.isValue(e.value)?(s&&!e.closest("div.iweb-input").querySelector("small.tips")&&((t=document.createElement("small")).classList.add("tips"),t.textContent=r.language[r.current_language].required_error,e.closest("div.iweb-input").appendChild(t)),e.closest("div.iweb-input").classList.add("error"),a=!1):r.isValue(e.value)&&(i.includes("number")&&!r.isNumber(e.value)?(s&&!e.closest("div.iweb-input").querySelector("small.tips")&&((t=document.createElement("small")).classList.add("tips"),t.textContent=r.language[r.current_language].number_error,e.closest("div.iweb-input").appendChild(t)),e.closest("div.iweb-input").classList.add("error"),a=!1):i.includes("email")&&!r.isEmail(e.value)?(s&&!e.closest("div.iweb-input").querySelector("small.tips")&&((t=document.createElement("small")).classList.add("tips"),t.textContent=r.language[r.current_language].email_error,e.closest("div.iweb-input").appendChild(t)),e.closest("div.iweb-input").classList.add("error"),a=!1):i.includes("password")&&!r.isPassword(e.value)?(s&&!e.closest("div.iweb-input").querySelector("small.tips")&&((t=document.createElement("small")).classList.add("tips"),t.textContent=r.language[r.current_language].password_error,e.closest("div.iweb-input").appendChild(t)),e.closest("div.iweb-input").classList.add("error"),a=!1):i.includes("date")&&!r.isDate(e.value)?(s&&!e.closest("div.iweb-input").querySelector("small.tips")&&((t=document.createElement("small")).classList.add("tips"),t.textContent=r.language[r.current_language].date_error,e.closest("div.iweb-input").appendChild(t)),e.closest("div.iweb-input").classList.add("error"),a=!1):i.includes("regex")&&(t=new RegExp(e.getAttribute("data-regex")),i=e.getAttribute("data-error"),t.test(e.value.toString().toLowerCase())||(s&&!e.closest("div.iweb-input").querySelector("small.tips")&&r.isValue(i)&&((t=document.createElement("small")).classList.add("tips"),t.textContent=i.toString(),e.closest("div.iweb-input").appendChild(t)),e.closest("div.iweb-input").classList.add("error"),a=!1)))}),l.getAttribute("data-vfunc"));if("function"==typeof window[t]&&(e=window[t](a),a=a&&e),a){let s={dataType:"json",showBusy:!0,url:l.action,values:{}};const n=l.querySelector("div.iweb-tips-message");new FormData(l).forEach(function(t,e){var i=e.match(/(.*)((\[)(.*)(\]))$/i);if(i){var a=i[1];let e=i[4];s.values[a]||(s.values[a]={}),r.isValue(e)||(e=Object.keys(s.values[a]).length+1),s.values[a][e]=t}else s.values[e]=t}),r.ajaxPost(s,function(e){var t,i,a=l.getAttribute("data-cfunc");"function"==typeof window[a]?window[a](e):r.isValue(e.status)&&r.isMatch(e.status,200)?r.isValue(e.url)?window.location.href=e.url:window.location.reload():r.isValue(n)?(n.classList.add("error"),n.innerHTML="",a=document.createElement("div"),(t=document.createElement("a")).className="close",t.textContent="×",(i=document.createElement("span")).textContent=e.message,a.appendChild(t),a.appendChild(i),n.appendChild(a),r.scrollTo(".iweb-tips-message",40)):r.alert(e.message)})}else"function"!=typeof window[t]&&r.scrollTo(".error",40)})),l.addEventListener("reset",r.deBounce(function(){var e=l.querySelectorAll("input, select, textarea");0<e.length&&e.forEach(function(e){var t,i;r.isMatch(e.type,"checkbox")||r.isMatch(e.type,"radio")||r.isMatch(e.type,"select-one")||r.isMatch(e.type,"select-multiple")?e.dispatchEvent(new Event("change")):e.closest("div.iweb-input-autocomplete")?(e.closest("div.iweb-input-autocomplete").classList.remove("error"),e.closest("div.iweb-input-autocomplete").querySelector("small.tips")?.remove(),t=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-id"),i=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-text"),e.closest("div.iweb-input-autocomplete").querySelector("a.fill-reset")?.remove(),r.isValue(i.getAttribute("data-value"))&&r.isValue(i.getAttribute("data-default"))&&(t.value=i.getAttribute("data-value"),i.value=i.getAttribute("data-default"),i.readOnly=!1,(t=document.createElement("a")).classList.add("fill-reset"),t.addEventListener("click",r.deBounce(function(e){var e=e.target,t=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-id"),i=e.closest("div.iweb-input-autocomplete").querySelector("input.fill-text"),e=e.closest("div.iweb-input-autocomplete").querySelector("a.fill-reset"),i=(t.value="",i.value="",i.readOnly=!1,e.remove(),t.getAttribute("data-rfunc"));"function"==typeof window[i]&&window[i]()})),(i=document.createElement("i")).classList.add("fa"),i.classList.add("fa-times"),i.style.color="#d73d32",t.appendChild(i),e.closest("div.iweb-input-autocomplete").appendChild(t))):e.dispatchEvent(new Event("input"))})},100,!1))})}uploader(s,n){const l=this;var e=document.createElement("input");e.type="file",e.multiple=!0,e.addEventListener("change",l.deBounce(function(e){var t,i;e.target;let a=this.files;7<a.length&&(a=Array.from(a).slice(0,7)),l.uploader_files.selected_files=a,l.uploader_files_skip.selected_files=[-1],l.uploader_options.selected_files={dataType:"json",url:"",values:{},allowed_types:"",max_filesize:64,type_error_message:l.language[l.current_language].type_error,max_error_message:l.language[l.current_language].max_error,btnStartAll:'<i class="fa fa-cloud-upload"></i>',btnClose:'<i class="fa fa-close"></i>',btnStart:'<i class="fa fa-cloud-upload"></i>',btnRemove:'<i class="fa fa-trash"></i>',auto_close:!1},l.isValue(s)&&Object.assign(l.uploader_options.selected_files,s),l.isValue(l.uploader_options.selected_files.allowed_types)&&(l.uploader_options.selected_files.allowed_types=l.uploader_options.selected_files.allowed_types.split("|")),l.uploader_options.selected_files.max_error_message=l.uploader_options.selected_files.max_error_message.replace("{num}",l.uploader_options.selected_files.max_filesize),l.isValue(l.uploader_options.selected_files.url)&&0<l.uploader_files.selected_files.length&&((e=document.createElement("div")).classList.add("action"),(t=document.createElement("button")).type="button",t.classList.add("start-all"),t.innerHTML=l.uploader_options.selected_files.btnStartAll,(i=document.createElement("button")).type="button",i.classList.add("close"),i.innerHTML=l.uploader_options.selected_files.btnClose,e.appendChild(t),e.appendChild(i),(t=document.createElement("div")).classList.add("list"),(i=document.createElement("div")).appendChild(e),i.appendChild(t),l.dialog(i.innerHTML,function(){l.uploaderPreview(l.uploader_files.selected_files);var e=document.querySelector("div.iweb-info-dialog.uploader > div > div.content > div > div.action > button.start-all"),t=document.querySelector("div.iweb-info-dialog.uploader > div > div.content > div > div.action > button.close");const i=document.querySelector("div.iweb-info-dialog.uploader > div > div.content > div > div.list");e.addEventListener("click",l.deBounce(function(){var e=i.querySelectorAll("div.item");let t=[];e.forEach(function(e){t.push(e.getAttribute("data-index").toString())}),l.uploaderStart(-1,t,t[t.length-1])})),t.addEventListener("click",l.deBounce(function(){document.querySelector("div.iweb-info-dialog.uploader > div > div.content > a.btn-close").dispatchEvent(new Event("click"))})),i.querySelectorAll("div.item > button.start").forEach(function(e){e.addEventListener("click",l.deBounce(function(e){e=e.target;l.uploaderStart(e.closest("div.item").getAttribute("data-index"))}))}),i.querySelectorAll("div.item > button.remove").forEach(function(e){e.addEventListener("click",l.deBounce(function(e){e=e.target;l.uploader_files_skip.selected_files.push(e.closest("div.item").getAttribute("data-index").toString()),e.closest("div.item").remove(),0===i.querySelectorAll("div.item").length&&document.querySelector("div.iweb-info-dialog.uploader > div > div.content > a.btn-close").dispatchEvent(new Event("click"))}))})},function(){"function"==typeof n&&n()},"uploader"))})),e.click()}uploaderArea(r,o,d){const c=this;var e=document.getElementById(r),e=(e.removeAttribute("name"),e.multiple=!0,e.addEventListener("change",c.deBounce(function(e){const t=this;e=e.target;let i=t.files;if(7<i.length&&(i=Array.from(i).slice(0,7)),c.uploader_files["inline_selected_files_"+c.imd5.hash(r)]=i,c.uploader_files_skip["inline_selected_files_"+c.imd5.hash(r)]=[-1],c.uploader_options["inline_selected_files_"+c.imd5.hash(r)]={dataType:"json",url:"",values:{},allowed_types:"",max_filesize:64,type_error_message:c.language[c.current_language].type_error,max_error_message:c.language[c.current_language].max_error,btnStartAll:'<i class="fa fa-cloud-upload"></i>',btnClose:'<i class="fa fa-close"></i>',btnStart:'<i class="fa fa-cloud-upload"></i>',btnRemove:'<i class="fa fa-trash"></i>',auto_close:!0},c.isValue(o)&&(c.uploader_options["inline_selected_files_"+c.imd5.hash(r)]=Object.assign(c.uploader_options["inline_selected_files_"+c.imd5.hash(r)],o)),c.isValue(c.uploader_options["inline_selected_files_"+c.imd5.hash(r)].allowed_types)&&(c.uploader_options["inline_selected_files_"+c.imd5.hash(r)].allowed_types=c.uploader_options["inline_selected_files_"+c.imd5.hash(r)].allowed_types.split("|")),c.uploader_options["inline_selected_files_"+c.imd5.hash(r)].max_error_message=c.uploader_options["inline_selected_files_"+c.imd5.hash(r)].max_error_message.replace("{num}",c.uploader_options["inline_selected_files_"+c.imd5.hash(r)].max_filesize),c.isValue(c.uploader_options["inline_selected_files_"+c.imd5.hash(r)].url)&&0<t.files.length){const n=e.closest("div.iweb-files-dropzone").querySelector("div.iweb-files-uploader");var e=document.createElement("div"),a=(e.className="action",document.createElement("button")),s=(a.className="start-all",a.type="button",a.title="Start All",a.innerHTML='<i class="fa fa-cloud-upload"></i>',document.createElement("button"));s.className="close",s.type="button",s.innerHTML='<i class="fa fa-close"></i>';const l=document.createElement("div");l.classList.add("list"),e.appendChild(a),e.appendChild(s),n.appendChild(e),n.appendChild(l),c.uploaderPreview(c.uploader_files["inline_selected_files_"+c.imd5.hash(r)],0,r),a.addEventListener("click",c.deBounce(function(){var e=l.querySelectorAll("div.item");let t=[];e.forEach(function(e){t.push(e.getAttribute("data-index").toString())}),c.uploaderStart(-1,t,t[t.length-1],r)})),s.addEventListener("click",c.deBounce(function(){n.innerHTML="",t.value="","function"==typeof d&&d()})),l.querySelectorAll("div.item > button.start").forEach(function(e){e.addEventListener("click",c.deBounce(function(e){e=e.target;c.uploaderStart(e.closest("div.item").getAttribute("data-index"),null,null,r)}))}),l.querySelectorAll("div.item > button.remove").forEach(function(e){e.addEventListener("click",c.deBounce(function(e){e=e.target;c.uploader_files_skip["inline_selected_files_"+c.imd5.hash(r)].push(e.closest("div.item").getAttribute("data-index").toString()),e.closest("div.item").remove(),0===l.querySelectorAll("div.item").length&&(n.innerHTML="",t.value="")}))})}})),e.parentElement),t=(e.id=r+"-iweb-files-dropzone",e.classList.add("iweb-files-dropzone"),document.createElement("div"));t.className="iweb-files-uploader",e.appendChild(t)}uploaderPreview(t,i=0,a){var s=this;if(!(i>=t.length)){var n=t[i],l=n.name.split(".").pop().toLowerCase();let e=!0;var r=document.createElement("div");r.classList.add("item"),r.setAttribute("data-index",i);const p=document.createElement("div"),h=(p.classList.add("photo"),document.createElement("img"));/^(.*)(.jpg|.jpeg|.gif|.png|.bmp)$/.test(n.name.toLowerCase())&&"undefined"!=typeof FileReader?((o=new FileReader).onload=function(e){h.src=e.target.result,p.appendChild(h)},o.readAsDataURL(n)):p.innerHTML={pdf:'<i class="fa fa-file-pdf-o" style="color:#ef4130;"></i>',doc:'<i class="fa fa-file-word-o" style="color:#5091cd;"></i>',docx:'<i class="fa fa-file-word-o" style="color:#5091cd;"></i>',xls:'<i class="fa fa-file-excel-o" style="color:#66cdaa;"></i>',xlsx:'<i class="fa fa-file-excel-o" style="color:#66cdaa;"></i>',ppt:'<i class="fa fa-file-powerpoint-o" style="color:#f7b002;"></i>',pptx:'<i class="fa fa-file-powerpoint-o" style="color:#f7b002;"></i>',txt:'<i class="fa fa-file-text-o"></i>',avi:'<i class="fa fa-file-video-o" style="color:#5091cd;"></i>',mov:'<i class="fa fa-file-video-o" style="color:#5091cd;"></i>',mp4:'<i class="fa fa-file-video-o" style="color:#5091cd;"></i>',ogg:'<i class="fa fa-file-video-o" style="color:#5091cd;"></i>',wmv:'<i class="fa fa-file-video-o" style="color:#5091cd;"></i>',webm:'<i class="fa fa-file-video-o" style="color:#5091cd;"></i>',mp3:'<i class="fa fa-file-audio-o" style="color:#66cdaa;"></i>',wav:'<i class="fa fa-file-audio-o" style="color:#66cdaa;"></i>',rar:'<i class="fa fa-file-zip-o" style="color:#f7b002;"></i>',zip:'<i class="fa fa-file-zip-o" style="color:#f7b002;"></i>'}[l]||'<i class="fa fa-file-code-o"></i>',r.appendChild(p);var o=document.createElement("div"),d=(o.classList.add("info"),document.createElement("div")),d=(d.classList.add("title"),d.textContent=n.name,o.appendChild(d),document.createElement("div")),d=(d.classList.add("size"),d.textContent=s.formatBytes(n.size,0),o.appendChild(d),s.isValue(a)?"inline_selected_files_"+s.imd5.hash(a):"selected_files"),d=s.uploader_options[d],c=d.allowed_types||[],u=1024*d.max_filesize*1024,u=(c.length&&c.indexOf(l)<0?((c=document.createElement("div")).classList.add("tips"),c.innerHTML="<small>"+d.type_error_message+"</small>",o.appendChild(c),e=!1):n.size>u?((l=document.createElement("div")).classList.add("tips"),l.innerHTML="<small>"+d.max_error_message+"</small>",o.appendChild(l),e=!1):((c=document.createElement("div")).classList.add("progress-bar"),c.innerHTML='<div class="percent"></div>',o.appendChild(c)),r.appendChild(o),e&&((n=document.createElement("button")).type="button",n.classList.add("start"),n.innerHTML='<i class="fa fa-cloud-upload"></i>',r.appendChild(n)),document.createElement("button")),d=(u.type="button",u.classList.add("remove"),u.innerHTML='<i class="fa fa-trash"></i>',r.appendChild(u),s.isValue(a)?"#"+a+"-iweb-files-dropzone > div.iweb-files-uploader > div.list":"div.iweb-info-dialog.uploader > div > div.content > div > div.list");document.querySelector(d).appendChild(r),s.uploaderPreview(t,i+1,a)}}uploaderStart(a,s,n,l){const r=this;let o="selected_files";r.isValue(l)&&(o="inline_selected_files_"+r.imd5.hash(l));const d=()=>{var e,t=r.isValue(l)?document.querySelector("#"+l+"-iweb-files-dropzone"):document.querySelector("div.iweb-info-dialog.uploader");t&&(e=t.querySelectorAll("div.list > div.item > button.start").length,0===parseInt(e)&&(t.querySelector("div.action > button.start-all")?.remove(),r.uploader_options[o].auto_close)&&t.querySelector("div.action > button.close").dispatchEvent(new Event("click")),t.classList.remove("busy"))},c=r.isValue(l)?document.querySelector("#"+l+"-iweb-files-dropzone"):document.querySelector("div.iweb-info-dialog.uploader");c.classList.add("busy");let u=!0;if(r.isValue(s)?a+=1:(s=[a],n=a,u=!1),parseInt(a)<=parseInt(n))if(s.includes(a.toString()))if(r.isValue(r.uploader_files[o])&&!r.uploader_files_skip[o].includes(a.toString())){r.uploader_files_skip[o].push(a.toString());var t=r.uploader_files[o],i=t[a].name.split(".").pop().toLowerCase();let e=!0;if(e=r.isValue(r.uploader_options[o].allowed_types)&&!r.uploader_options[o].allowed_types.includes(i.toString())||t[a].size>1024*r.uploader_options[o].max_filesize*1024?!1:e){let i={dataType:"json",showBusy:!1,url:r.uploader_options[o].url,values:{}};var p=new FormData;if(p.append("page_action","file_upload"),r.isValue(r.uploader_options[o].values)){var h,m=r.uploader_options[o].values;for(h in m)m.hasOwnProperty(h)&&p.append(h,m[h])}p.append("myfile",t[a],t[a].name),p.forEach(function(e,t){i.values[t]=e}),r.ajaxPost(i,function(e){var t=c.querySelector('div.list > div.item[data-index="'+a+'"]'),e=(t.querySelector("div.info > div.progress-bar")?.remove(),e.message||e),t=t.querySelector("div.info"),i=document.createElement("div");i.classList.add("tips"),i.innerHTML="<small>"+e+"</small>",t.appendChild(i),u?r.uploaderStart(a,s,n,l):d()},null,function(e){var t=c.querySelector('div.list > div.item[data-index="'+a+'"]'),t=(t.querySelector("button.start")?.remove(),t.querySelector("button.remove")?.remove(),t.querySelector("div.info > div.progress-bar > div.percent"));t&&(t.style.width=e+"%")})}else{i=c.querySelector('div.list > div.item[data-index="'+a+'"]');i.querySelector("button.start")?.remove(),i.querySelector("button.remove")?.remove(),u?r.uploaderStart(a,s,n,l):d()}}else u?r.uploaderStart(a,s,n,l):d();else u?r.uploaderStart(a,s,n,l):d();else d()}alert(e="",i,t){if(!(0<document.querySelectorAll("div.iweb-alert-dialog").length)){var a=document.createElement("div"),t=(a.classList.add("iweb-alert-dialog"),this.isValue(t)&&a.classList.add(t),document.createElement("div"));const l=document.createElement("div");l.classList.add("content"),l.style.transition="transform 0.5s ease, opacity 0.5s ease",l.style.transform="translateY(-320%)",l.style.opacity="0";var s=document.createElement("div"),e=(s.innerHTML=e,document.createElement("button")),n=(e.classList.add("btn"),e.classList.add("btn-close"),e.textContent=this.language[this.current_language].btn_confirm,e.addEventListener("click",this.deBounce(function(e){const t=e.target;l.style.transform="translateY(-320%)",l.style.transform="0",l.addEventListener("transitionend",function(){t.closest("div.iweb-alert-dialog").remove(),0===document.querySelectorAll("div.iweb-alert-dialog").length&&0===document.querySelectorAll("div.iweb-info-dialog").length&&document.body.classList.remove("iweb-disable-scroll"),"function"==typeof i&&i()},{once:!0})})),document.querySelector("div.iweb-viewer"));t.appendChild(l),l.appendChild(s),l.appendChild(e),a.appendChild(t),n.insertBefore(a,n.firstChild),document.body.classList.add("iweb-disable-scroll"),setTimeout(function(){l.style.transform="translateY(0)",l.style.opacity="1"},100)}}confirm(e="",i,t){if(!(0<document.querySelectorAll("div.iweb-alert-dialog").length)){var a=this,s=document.createElement("div"),t=(s.classList.add("iweb-alert-dialog"),a.isValue(t)&&s.classList.add(t),document.createElement("div"));const r=document.createElement("div");r.classList.add("content"),r.style.transition="transform 0.5s ease, opacity 0.5s ease",r.style.transform="translateY(-320%)",r.style.opacity="0";var n=document.createElement("div"),e=(n.innerHTML=e,document.createElement("button")),l=(e.classList.add("btn"),e.classList.add("btn-yes"),e.textContent=a.language[a.current_language].btn_yes,e.addEventListener("click",a.deBounce(function(e){const t=e.target;r.style.transform="translateY(-320%)",r.style.transform="0",r.addEventListener("transitionend",function(){t.closest("div.iweb-alert-dialog").remove(),0===document.querySelectorAll("div.iweb-alert-dialog").length&&0===document.querySelectorAll("div.iweb-info-dialog").length&&document.body.classList.remove("iweb-disable-scroll"),"function"==typeof i&&i(!0)},{once:!0})})),document.createElement("button")),a=(l.classList.add("btn"),l.classList.add("btn-no"),l.textContent=a.language[a.current_language].btn_no,l.addEventListener("click",a.deBounce(function(e){const t=e.target;r.style.transform="translateY(-320%)",r.style.transform="0",r.addEventListener("transitionend",function(){t.closest("div.iweb-alert-dialog").remove(),0===document.querySelectorAll("div.iweb-alert-dialog").length&&0===document.querySelectorAll("div.iweb-info-dialog").length&&document.body.classList.remove("iweb-disable-scroll"),"function"==typeof i&&i(!1)},{once:!0})})),document.querySelector("div.iweb-viewer"));t.appendChild(r),r.appendChild(n),r.appendChild(e),r.appendChild(l),s.appendChild(t),a.insertBefore(s,a.firstChild),document.body.classList.add("iweb-disable-scroll"),setTimeout(function(){r.style.transform="translateY(0)",r.style.opacity="1"},100)}}dialog(e,t,i,a){if(!document.querySelector("div.iweb-info-dialog")){const r=this;var s=document.createElement("div"),a=(s.classList.add("iweb-info-dialog"),r.isValue(a)&&s.classList.add(a),document.createElement("div"));const o=document.createElement("div");o.classList.add("content"),o.style.transition="transform 0.5s ease, opacity 0.5s ease",o.style.transform="translateY(-320%)",o.style.opacity="0";var n=document.createElement("div"),e=("string"==typeof e?n.insertAdjacentHTML("beforeend",e):n.appendChild(e),document.createElement("a")),l=(e.classList.add("btn"),e.classList.add("btn-close"),e.addEventListener("click",r.deBounce(function(e){const t=e.target;o.style.transform="translateY(-320%)",o.style.transform="0",o.addEventListener("transitionend",function(){t.closest("div.iweb-info-dialog").remove(),0===document.querySelectorAll("div.iweb-alert-dialog").length&&0===document.querySelectorAll("div.iweb-info-dialog").length&&document.body.classList.remove("iweb-disable-scroll"),"function"==typeof i&&i()},{once:!0})})),document.querySelector("div.iweb-viewer"));a.appendChild(o),o.appendChild(n),o.appendChild(e),s.appendChild(a),l.insertBefore(s,l.firstChild),document.body.classList.add("iweb-disable-scroll"),setTimeout(function(){r.initComponent(),r.initForm(),"function"==typeof t&&t(),o.style.transform="translateY(0)",o.style.opacity="1"},100)}}bindEvent(e,i,a){document.addEventListener(e,this.deBounce(function(e){var t=e.target.closest(i);t&&a(t,e)},10,!1))}triggerEvent(e,t){t=document.querySelector(t);t&&(e=new Event(e,{bubbles:!0,cancelable:!0}),t.dispatchEvent(e))}isValue(e){return null!=e&&(e instanceof HTMLElement?""!==e.outerHTML.trim():"object"==typeof e?Array.isArray(e)?0<e.length:0<Object.keys(e).length:""!==e.toString().trim())}isMatch(e,t,i=!1){return!(!this.isValue(e)||!this.isValue(t))&&(e=e.toString().trim(),t=t.toString().trim(),i?e===t:e.toLowerCase()===t.toLowerCase())}isNumber(e,t=!1){t=t?/^[0-9]+$/:/(^((-)?[1-9]{1}\d{0,2}|0\.|0$))(((\d)+)?)(((\.)(\d+))?)$/;return!!this.isValue(e)&&t.test(e)}isEmail(e){return!!this.isValue(e)&&/^([A-Za-z0-9_\-\.])+@([A-Za-z0-9_\-\.])+\.[A-Za-z]{2,}$/.test(e)}isPassword(e){return!!this.isValue(e)&&/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/.test(e)}isDate(t,i="Y-m-d"){if(this.isValue(t)&&(this.isMatch(i,"Y-m-d")||(t=t.split("/").reverse().join("-")),/^(\d{4})(\-)(\d{2})(\-)(\d{2})$/.test(t))){let e=!0;var i=t.split("-"),a=parseInt(i[2]),s=parseInt(i[1]),i=parseInt(i[0]);return(isNaN(a)||isNaN(s)||isNaN(i)||i<=0||s<=0||12<s||a<=0||[1,3,5,7,8,10,12].includes(s)&&31<a||[4,6,9,11].includes(s)&&30<a||2==s&&((s=i%4==0&&i%100!=0||i%400==0)&&29<a||!s&&28<a))&&(e=!1),new Date(t)instanceof Date&&e}return!1}toNumber(t,e,i){if(t=t.toString().replace(/[^\d|\-|\.]/g,""),this.isNumber(t)){if(this.isNumber(i)&&0<parseInt(i)){var a=Math.pow(10,i);t*=a;let e=(t=(Math.round(t)/a).toString()).indexOf(".");for(e<0&&(e=t.length,t+=".");t.length<=e+i;)t+="0"}return this.isMatch(e,!0)?t.toString().replace(/(\d)(?=(\d{3})+\b)/g,"$1,"):t}return 0}toDateTime(e,t="Y-m-d H:i:s"){var e=this.isValue(e)?new Date(e):new Date,i=e.getFullYear();let a=e.getMonth()+1,s=e.getDate(),n=e.getHours(),l=e.getMinutes(),r=e.getSeconds(),o=(1==a.toString().length&&(a="0"+a),1==s.toString().length&&(s="0"+s),1==n.toString().length&&(n="0"+n),1==l.toString().length&&(l="0"+l),1==r.toString().length&&(r="0"+r),"");switch(t){case"Y-m-d H:i:s":o=i+"-"+a+"-"+s+" "+n+":"+l+":"+r;break;case"Y-m-d H:i":o=i+"-"+a+"-"+s+" "+n+":"+l;break;case"d/m/Y H:i:s":o=s+"/"+a+"/"+i+" "+n+":"+l+":"+r;break;case"d/m/Y H:i":o=s+"/"+a+"/"+i+" "+n+":"+l;break;case"Y-m-d":o=i+"-"+a+"-"+s;break;case"d/m/Y":o=s+"/"+a+"/"+i;break;case"H:i:s":o=n+":"+l+":"+r;break;case"H:i":o=n+":"+l;break;case"Y":o=i;break;case"m":o=a;break;case"d":o=s;break;case"h":o=n;break;case"i":o=l;break;case"s":o=r}return o}setCookie(e,t,i=14){var a;navigator.cookieEnabled?this.isValue(e)&&((a=new Date).setTime(a.getTime()+24*i*60*60*1e3),i="expires="+a.toUTCString(),a=1<(a=window.location.pathname.split("/")).length&&""!==a[1]?"/"+a[1]+"/":"/",document.cookie=e+"="+t+";"+i+";path="+a):alert("Cookies Blocked or not supported by your browser.")}getCookie(e){if(navigator.cookieEnabled){if(this.isValue(e)){var t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){var a=i[e].trim();if(0===a.indexOf(t))return a.substring(t.length,a.length)}}}else alert("Cookies Blocked or not supported by your browser.");return""}deBounce(a,s=100,n=!0){let l;return function(e){n&&e&&"function"==typeof e.preventDefault&&e.preventDefault(),clearTimeout(l);const t=this,i=arguments;l=setTimeout(()=>a.apply(t,i),s)}}showBusy(t,i){var a=this;if(a.isMatch(t,1)||a.isMatch(t,!0)){if(0===document.querySelectorAll("div.iweb-processing").length){let e=1;a.isNumber(i,!0)&&(e=Math.round(parseInt(i)/100*100)/100);var t=document.createElement("div"),s=(t.className="iweb-processing",a.isNumber(i,!0)&&(t.style.background="rgba(255,255,255,"+e+")"),document.createElement("div")),n=(s.className="loading",document.createElementNS("http://www.w3.org/2000/svg","svg")),l=(n.setAttribute("width","48px"),n.setAttribute("height","48px"),n.setAttribute("viewBox","0 0 100 100"),n.setAttribute("preserveAspectRatio","xMidYMid"),document.createElementNS("http://www.w3.org/2000/svg","circle")),r=(l.setAttribute("cx","50"),l.setAttribute("cy","50"),l.setAttribute("fill","none"),l.setAttribute("stroke","#dddddd"),l.setAttribute("stroke-width","10"),l.setAttribute("r","36"),l.setAttribute("stroke-dasharray","169.64600329384882 58.548667764616276"),document.createElementNS("http://www.w3.org/2000/svg","animateTransform"));r.setAttribute("attributeName","transform"),r.setAttribute("type","rotate"),r.setAttribute("repeatCount","indefinite"),r.setAttribute("dur","1s"),r.setAttribute("values","0 50 50;360 50 50"),r.setAttribute("keyTimes","0;1"),l.appendChild(r),n.appendChild(l),s.appendChild(n),t.appendChild(s),document.body.insertBefore(t,document.body.firstChild)}}else{let e=0;a.isNumber(i,!0)&&(e=parseInt(i)),setTimeout(function(){document.querySelectorAll("div.iweb-processing").forEach(function(e){e.remove()})},e)}}scrollTo(e,t,i){let a=0;t=this.isValue(t)?parseInt(t):0;e=document.querySelector(e);e&&(a=Math.max(0,parseInt(e.getBoundingClientRect().top+window.pageYOffset)-t)),window.scrollTo({top:a,behavior:"smooth"}),setTimeout(function(){Math.abs(window.pageYOffset-a)<=1&&"function"==typeof i&&i()},100)}formatBytes(e,t){var i;return e?(t=t<0?0:t,i=Math.floor(Math.log(e)/Math.log(1024)),parseFloat((e/Math.pow(1024,i)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]):"0 Bytes"}getURL(e){return window.location.href.split("?")[0].toString()+(this.isValue(e)?"/"+e:"")}getURLParameter(t){let i="";if(this.isValue(t)){var a=window.location.search.substring(1).split("&");for(let e=0;e<parseInt(a.length);e++){var s=a[e].split("="),n=s[0],s=s[1];if(this.isValue(n)&&this.isValue(s)&&this.isMatch(n,t)){i=s;break}}}return i}randomNum(e,t){return(!this.isValue(e)||parseInt(e)<0)&&(e=0),(!this.isValue(t)||parseInt(t)<1)&&(t=1),e=parseInt(e),t=parseInt(t),parseInt(e)>parseInt(t)&&(e=0,t=1),parseInt(Math.random()*(t+1-e)+e)}randomString(t){var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";this.isNumber(t)||(t=12);let a="";for(let e=0;e<t;e++){var s=Math.floor(Math.random()*i.length);a+=i.substring(s,s+1)}return a}detectDevice(e){var t=function(){return navigator.userAgent.match(/Android/i)},i=function(){return navigator.userAgent.match(/BlackBerry/i)},a=function(){return navigator.userAgent.match(/Mac|iPhone|iPad|iPod/i)},s=function(){return navigator.userAgent.match(/Opera Mini/i)},n=function(){return navigator.userAgent.match(/IEMobile/i)};switch(e){case"android":return t();case"blackberry":return i();case"ios":return a();case"opera":return s();case"windows":return n();default:return t()||i()||a()||s()||n()}}}class iMD5{constructor(){this.hex_chr="0123456789abcdef".split("")}add32(e,t){return e+t&4294967295}cmn(e,t,i,a,s,n){return this.add32(this.add32(this.add32(t,e),this.add32(a,n))<<s|this.add32(this.add32(t,e),this.add32(a,n))>>>32-s,i)}ff(e,t,i,a,s,n,l){return this.cmn(t&i|~t&a,e,t,s,n,l)}gg(e,t,i,a,s,n,l){return this.cmn(t&a|i&~a,e,t,s,n,l)}hh(e,t,i,a,s,n,l){return this.cmn(t^i^a,e,t,s,n,l)}ii(e,t,i,a,s,n,l){return this.cmn(i^(t|~a),e,t,s,n,l)}md5cycle(e,t){var i=e[0],i=this.ff(i,n=e[1],s=e[2],a=e[3],t[0],7,-680876936),a=this.ff(a,i,n,s,t[1],12,-389564586),s=this.ff(s,a,i,n,t[2],17,606105819),n=this.ff(n,s,a,i,t[3],22,-1044525330);i=this.ff(i,n,s,a,t[4],7,-176418897),a=this.ff(a,i,n,s,t[5],12,1200080426),s=this.ff(s,a,i,n,t[6],17,-1473231341),n=this.ff(n,s,a,i,t[7],22,-45705983),i=this.ff(i,n,s,a,t[8],7,1770035416),a=this.ff(a,i,n,s,t[9],12,-1958414417),s=this.ff(s,a,i,n,t[10],17,-42063),n=this.ff(n,s,a,i,t[11],22,-1990404162),i=this.ff(i,n,s,a,t[12],7,1804603682),a=this.ff(a,i,n,s,t[13],12,-40341101),s=this.ff(s,a,i,n,t[14],17,-1502002290),n=this.ff(n,s,a,i,t[15],22,1236535329),i=this.gg(i,n,s,a,t[1],5,-165796510),a=this.gg(a,i,n,s,t[6],9,-1069501632),s=this.gg(s,a,i,n,t[11],14,643717713),n=this.gg(n,s,a,i,t[0],20,-373897302),i=this.gg(i,n,s,a,t[5],5,-701558691),a=this.gg(a,i,n,s,t[10],9,38016083),s=this.gg(s,a,i,n,t[15],14,-660478335),n=this.gg(n,s,a,i,t[4],20,-405537848),i=this.gg(i,n,s,a,t[9],5,568446438),a=this.gg(a,i,n,s,t[14],9,-1019803690),s=this.gg(s,a,i,n,t[3],14,-187363961),n=this.gg(n,s,a,i,t[8],20,1163531501),i=this.gg(i,n,s,a,t[13],5,-1444681467),a=this.gg(a,i,n,s,t[2],9,-51403784),s=this.gg(s,a,i,n,t[7],14,1735328473),n=this.gg(n,s,a,i,t[12],20,-1926607734),i=this.hh(i,n,s,a,t[5],4,-378558),a=this.hh(a,i,n,s,t[8],11,-2022574463),s=this.hh(s,a,i,n,t[11],16,1839030562),n=this.hh(n,s,a,i,t[14],23,-35309556),i=this.hh(i,n,s,a,t[1],4,-1530992060),a=this.hh(a,i,n,s,t[4],11,1272893353),s=this.hh(s,a,i,n,t[7],16,-155497632),n=this.hh(n,s,a,i,t[10],23,-1094730640),i=this.hh(i,n,s,a,t[13],4,681279174),a=this.hh(a,i,n,s,t[0],11,-358537222),s=this.hh(s,a,i,n,t[3],16,-722521979),n=this.hh(n,s,a,i,t[6],23,76029189),i=this.hh(i,n,s,a,t[9],4,-640364487),a=this.hh(a,i,n,s,t[12],11,-421815835),s=this.hh(s,a,i,n,t[15],16,530742520),n=this.hh(n,s,a,i,t[2],23,-995338651),i=this.ii(i,n,s,a,t[0],6,-198630844),a=this.ii(a,i,n,s,t[7],10,1126891415),s=this.ii(s,a,i,n,t[14],15,-1416354905),n=this.ii(n,s,a,i,t[5],21,-57434055),i=this.ii(i,n,s,a,t[12],6,1700485571),a=this.ii(a,i,n,s,t[3],10,-1894986606),s=this.ii(s,a,i,n,t[10],15,-1051523),n=this.ii(n,s,a,i,t[1],21,-2054922799),i=this.ii(i,n,s,a,t[8],6,1873313359),a=this.ii(a,i,n,s,t[15],10,-30611744),s=this.ii(s,a,i,n,t[6],15,-1560198380),n=this.ii(n,s,a,i,t[13],21,1309151649),i=this.ii(i,n,s,a,t[4],6,-145523070),a=this.ii(a,i,n,s,t[11],10,-1120210379),s=this.ii(s,a,i,n,t[2],15,718787259),n=this.ii(n,s,a,i,t[9],21,-343485551),e[0]=this.add32(i,e[0]),e[1]=this.add32(n,e[1]),e[2]=this.add32(s,e[2]),e[3]=this.add32(a,e[3])}md51(e){var t=e.length,i=[1732584193,-271733879,-1732584194,271733878];let a;for(a=64;a<=e.length;a+=64)this.md5cycle(i,this.md5blk(e.substring(a-64,a)));e=e.substring(a-64);let s=new Array(16).fill(0);for(a=0;a<e.length;a++)s[a>>2]|=e.charCodeAt(a)<<(a%4<<3);return s[a>>2]|=128<<(a%4<<3),55<a&&(this.md5cycle(i,s),s=new Array(16).fill(0)),s[14]=8*t,this.md5cycle(i,s),i}md5blk(t){var i=[];for(let e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}rhex(t){let i="";for(let e=0;e<4;e++)i+=this.hex_chr[t>>8*e+4&15]+this.hex_chr[t>>8*e&15];return i}hex(t){for(let e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")}hash(e){return this.hex(this.md51(e))}}class iDatePicker{constructor(e="en",t="YYYY-MM-DD"){this.lang=e,this.dateFormat=t,this.calendarElement,this.currentDate=new Date,this.selectedDate,this.activeInputElement,document.body.addEventListener("click",e=>{!this.calendarElement||e.target.closest(".idatepicker")||e.target.closest("div.idatepicker-calendar")||"idatepicker-prev-month"===e.target.id||"idatepicker-next-month"===e.target.id||this.hideCalendar()})}render(e){e=document.querySelectorAll(e);e&&e.forEach(e=>{e.classList.contains("idatepicker")||(e.type="text",e.classList.add("idatepicker"),e.addEventListener("focus",()=>this.onFocusInput(e)))})}onFocusInput(e){var t=e.value;t&&this.isValidDateFormat(t)?(this.currentDate=this.parseDate(t),this.selectedDate=new Date(this.currentDate)):(this.currentDate=new Date,this.selectedDate),this.activeInputElement=e,this.showCalendar(e)}showCalendar(e){this.calendarElement&&this.calendarElement.remove(),this.calendarElement=this.createElement("div",{position:"absolute",backgroundColor:"#fff",fontSize:"12px",padding:"8px",border:"2px solid #e6e6e6",borderRadius:"4px",boxSizing:"border-box",marginTop:"2px",zIndex:"100"},"idatepicker-calendar"),document.body.appendChild(this.calendarElement);e=e.getBoundingClientRect();this.calendarElement.style.top=e.bottom+window.scrollY+"px",this.calendarElement.style.left=e.left+window.scrollX+"px",this.buildCalendar()}hideCalendar(){this.calendarElement&&(this.calendarElement.remove(),this.calendarElement)}buildCalendar(){var e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),i=(this.calendarElement.innerHTML="",this.createHeader()),e=this.createCalendarTable(e,t);this.calendarElement.appendChild(i),this.calendarElement.appendChild(e)}createHeader(){var e=this.createElement("div",{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 0px 10px 0px"}),t=this.createButton("🞀","idatepicker-prev-month",()=>this.changeMonth(-1)),i=this.createElement("span",{fontSize:"15px",fontWeight:"bold"}),a=(i.textContent=this.currentDate.toLocaleString("en"===this.lang?"en":"zh",{month:"short"})+" / "+this.currentDate.getFullYear(),this.createButton("🞂","idatepicker-next-month",()=>this.changeMonth(1)));return e.appendChild(t),e.appendChild(i),e.appendChild(a),e}createButton(e,t,i){var a=this.createElement("button",{position:"relative",backgroundColor:"#2ca4e9",fontSize:"12px",color:"#fff",padding:"3px 6px",border:"none",borderRadius:"3px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",boxSizing:"border-box",cursor:"pointer"});return a.type="button",a.id=t,a.textContent=e,a.addEventListener("click",e=>{e.preventDefault(),i()}),a}changeMonth(e){this.currentDate.setMonth(this.currentDate.getMonth()+e),this.buildCalendar()}createCalendarTable(e,t){var i=this.createElement("table",{width:"100%",borderCollapse:"collapse"}),a=this.createTableHeader(),e=this.createTableBody(e,t);return i.appendChild(a),i.appendChild(e),i}createTableHeader(){var e=document.createElement("thead");const i=document.createElement("tr");return("en"===this.lang?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]:["日","一","二","三","四","五","六"]).forEach(e=>{var t=this.createElement("th",{width:"36px",height:"28px",fontSize:"12px",color:"#2ca4e9",padding:"4px",border:"2px solid #e6e6e6",boxSizing:"border-box",textAlign:"center"});t.textContent=e,i.appendChild(t)}),e.appendChild(i),e}createTableBody(a,s){var e=document.createElement("tbody"),n=new Date(a,s,1).getDay(),l=new Date(a,s+1,0).getDate();let r=new Date(a,s,0).getDate()-n+1,o=1,d=1;for(let i=0;i<6;i++){var c,u,p=document.createElement("tr");for(let t=0;t<7;t++){let e;e=0===i&&t<n?(c=this.formatDate(new Date(a,s-1,r++)),this.createDateCell(r-1,c,!0)):o>l?(c=this.formatDate(new Date(a,s+1,d)),this.createDateCell(d++,c,!0)):(u=this.formatDate(new Date(a,s,o)),this.createDateCell(o++,u,!1)),p.appendChild(e)}e.appendChild(p)}return e}createDateCell(e,t,i){i=this.createElement("td",{backgroundColor:this.selectedDate&&t===this.formatDate(this.selectedDate)?"#2ca4e9":"",width:"36px",height:"28px",fontSize:"12px",color:i?"#aaa":this.selectedDate&&t===this.formatDate(this.selectedDate)?"#fff":"",padding:"4px",border:"2px solid #e6e6e6",boxSizing:"border-box",textAlign:"center",cursor:"pointer"});return i.dataset.date=t,i.textContent=e,i.addEventListener("click",()=>this.onDateSelect(t)),i}onDateSelect(e){e=this.parseDate(e);isNaN(e)||(this.activeInputElement.value=this.formatDate(e),this.activeInputElement.dispatchEvent(new Event("input")),this.selectedDate=e,this.buildCalendar(),this.hideCalendar())}createElement(e,t={},i){e=document.createElement(e);return i&&(e.className=i),Object.assign(e.style,t),e}isValidDateFormat(e){let t;return(t="DD/MM/YYYY"===this.dateFormat.toString().toUpperCase()?/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/\d{4}$/:/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/).test(e)}parseDate(e){var[e,t,i]="DD/MM/YYYY"===this.dateFormat.toString().toUpperCase()?e.split("/").map(Number).reverse():e.split("-").map(Number);return new Date(e,t-1,i)}formatDate(e){var t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),e=String(e.getDate()).padStart(2,"0");return"DD/MM/YYYY"===this.dateFormat.toString().toLowerCase()?e+"/"+i+"/"+t:t+"-"+i+"-"+e}}class iPagination{constructor(e,t){this.settings=Object.assign({mode:1,size:5,total:1,placeholder:""},t),this.currentPage=1,this.url=new URL(window.location.href),this.searchParams=new URLSearchParams(this.url.search),this.searchParams.has("page")&&(this.currentPage=Math.max(parseInt(this.searchParams.get("page")),1)),this.searchParams.delete("page"),this.baseUrl=this.url.origin+this.url.pathname+"?"+this.searchParams.toString(),this.renderPagination(e)}createPageUrl(e){return(this.baseUrl+"&page="+e).replace("?&","?")}jumpToPage(t){t.addEventListener("keypress",e=>{13===e.which&&(e=Math.min(Math.max(parseInt(t.value)||1,1),t.getAttribute("data-max")),window.location.href=this.createPageUrl(e))})}createPaginationElement(e,t="",i=""){e=document.createElement(e);return t&&(e.className=t),i&&(e.innerHTML=i),e}renderPagination(e){if(!e.querySelector(".iweb-pagination")){var a=e.getAttribute("data-size")||this.settings.size,s=e.getAttribute("data-totalpage")||this.settings.total,n=Math.max(this.currentPage-1,1),l=Math.min(this.currentPage+1,s),r=s,o=Math.floor(a/2);let t=Math.max(this.currentPage-o,1),i=Math.min(this.currentPage+o,r);if(i-t+1<a&&(this.currentPage<1+o?i=Math.min(r,t+a-1):t=Math.max(1,i-a+1)),1<s){var a=this.createPaginationElement("div","iweb-pagination"),d=this.createPaginationElement("ul"),c=this.createPaginationElement("a","first",2===this.settings.mode&&this.currentPage>o?"<span>1..</span>":"<i></i><i></i>"),u=(c.href=this.createPageUrl(1),c.title="First Page",this.createPaginationElement("li")),c=(u.appendChild(c),d.appendChild(u),this.createPaginationElement("a","prev","<i></i>")),u=(c.href=this.createPageUrl(n),c.title="Previous Page",this.createPaginationElement("li"));u.appendChild(c),d.appendChild(u);for(let e=t;e<=i;e++){var p=this.createPaginationElement("a","num"+(e===this.currentPage?" current":""),"<span>"+e+"</span>"),h=(p.href=this.createPageUrl(e),this.createPaginationElement("li"));h.appendChild(p),d.appendChild(h)}n=this.createPaginationElement("a","next","<i></i>"),c=(n.href=this.createPageUrl(l),n.title="Next Page",this.createPaginationElement("li")),u=(c.appendChild(n),d.appendChild(c),this.createPaginationElement("a","last",2===this.settings.mode&&this.currentPage<s-o?"<span>.."+r+"</span>":"<i></i><i></i>")),l=(u.href=this.createPageUrl(r),u.title="Last Page",this.createPaginationElement("li")),n=(l.appendChild(u),d.appendChild(l),this.createPaginationElement("li")),c=this.createPaginationElement("input","jumpto_page");c.type="text",c.placeholder=this.settings.placeholder,c.setAttribute("data-max",s),this.jumpToPage(c),n.appendChild(c),d.appendChild(n),a.appendChild(d),e.appendChild(a)}}}}